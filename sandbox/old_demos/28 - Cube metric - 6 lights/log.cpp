//=======================================================================================================================================================================================================================
//  Logging functions implementation
//=======================================================================================================================================================================================================================

#include <GL/glew.h>
#include "log.hpp"

void log_write(const char *format, ...)
{
	va_list ap;
	FILE *output = fopen("debug.log", "a+");
	if (!output) return;
	va_start(ap, format);
	vfprintf(output, format, ap);
	va_end(ap);
	fclose(output);
};

void gl_info()
{
	
	//===================================================================================================================================================================================================================
	// string openGL constants
	//===================================================================================================================================================================================================================

    debug_msg("GL_VENDOR = %s.", glGetString(GL_VENDOR));                                       
    debug_msg("GL_RENDERER = %s.", glGetString(GL_RENDERER));                                   
    debug_msg("GL_VERSION = %s.", glGetString(GL_VERSION));                                     
    debug_msg("GL_SHADING_LANGUAGE_VERSION = %s.", glGetString(GL_SHADING_LANGUAGE_VERSION));   
    debug_msg("GL_EXTENSIONS = %s.", glGetString(GL_EXTENSIONS));                               

	//===================================================================================================================================================================================================================
	// integral implementation-dependent constants 
	//===================================================================================================================================================================================================================

	GLint value;
	glGetIntegerv(GL_MAX_DRAW_BUFFERS, &value);
	debug_msg("GL_MAX_DRAW_BUFFERS = %d.", value);

};

