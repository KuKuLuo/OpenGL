#ifndef _solid_included_1689072258736476253476523746253762891197615035283652353 
#define _solid_included_1689072258736476253476523746253762891197615035283652353

#include <GL/glew.h> 														                                                // OpenGL extensions
#include <glm/glm.hpp>

// ======================================================================================================================================================================================================================
// Non - indexed mesh 
// ======================================================================================================================================================================================================================

struct solid
{
	// ==================================================================================================================================================================================================================
	// the number of vertices in the GL_TRIANGLES array
	// ==================================================================================================================================================================================================================
    GLuint mesh_size;

	// ==================================================================================================================================================================================================================
	// id of the VAO, and 3 buffer objects : vertices + normals +  tangents + texture coordinates
	// ==================================================================================================================================================================================================================
    GLuint vao_id, vbo_id, nbo_id, txbo_id, tybo_id, tbo_id;
    GLuint depth_vao_id;

	// ==================================================================================================================================================================================================================
	// diffuse and normal textures
	// ==================================================================================================================================================================================================================
    GLuint texture_id, normal_texture_id;    

    solid(const glm::vec3* vertices, const glm::vec3* normals, const glm::vec2* uvs, GLuint mesh_size);
    void instanced_render(GLsizei primcount);
	void depth_texture_render(GLsizei primcount);
    ~solid();
};

// ======================================================================================================================================================================================================================
// Indexed mesh, representing a smooth surface
// ======================================================================================================================================================================================================================

typedef glm::vec3 (*surface_func) (const glm::vec2& uv);

struct surface
{
	// ==================================================================================================================================================================================================================
	// the number of indices in the GL_TRIANGLES array
	// ==================================================================================================================================================================================================================
    GLuint mesh_size;

	// ==================================================================================================================================================================================================================
	// id of the VAO, and 3 buffer objects : vertices + normals + tangents + texture coordinates
	// ==================================================================================================================================================================================================================
    GLuint vao_id, vbo_id, nbo_id, txbo_id, tybo_id, tbo_id;
    GLuint ibo_id;
    GLuint depth_vao_id;

	// ==================================================================================================================================================================================================================
	// diffuse and normal textures
	// ==================================================================================================================================================================================================================
    GLuint texture_id, normal_texture_id;    

    surface(surface_func f, unsigned int m, unsigned int n);
    void instanced_render(GLsizei primcount);
    void depth_texture_render(GLsizei primcount);
    ~surface();
};

#endif // _solid_included_1689072258736476253476523746253762891197615035283652353
